(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"+EW5":function(a,e,o){"use strict";o.r(e);o("6cQw"),o("oVuX");var r=o("IF94"),n=o("YZfj"),l=o("AeMN"),t=o("Ed67"),s=o("oVt+"),i=o("sove"),d=o("giZP"),p=o("XhI9"),c=o("wvFN"),u=o("R5cT"),m=o("xD+F"),f=o("GUe+"),h=o("mwM1"),g=o("SRip"),_=o("Snq/"),k=o.n(_),w={components:{BCard:r.a,BCardBody:n.a,BSpinner:l.a,BForm:t.a,BRow:s.a,BCol:i.a,BFormGroup:d.a,BInputGroup:p.a,BFormDatepicker:c.a,BFormInput:u.a,vSelect:k.a,BFormFile:m.a,BButton:f.a,BOverlay:h.a,BImg:g.a},data:function(){return{loading:!1,isBusy:!0,semester:[],form:{semester_id:"",tanggal_rapor:"",tanggal_rapor_kelas_akhir:"",zona:"",kepala_sekolah:"",rombel_4_tahun:[],file:null},feedback:{tanggal_rapor:"",zona:"",file:""},state:{tanggal_rapor:null,zona:null,file:null},periode:null,data_zona:[{value:"Asia/Jakarta",text:"Waktu Indonesia Barat (WIB)"},{value:"Asia/Makassar",text:"Waktu Indonesia Tengah (WITA)"},{value:"Asia/Jayapura",text:"Waktu Indonesia Timur (WIT)"}],data_guru:[],rombel_4_tahun:[],data_rombel:[],logo_sekolah:null}},created:function(){this.loadPostData()},methods:{loadPostData:function(){var a=this;this.isBusy=!0,this.file=null,this.fileState=null,this.feedback_file="",this.zona=null,this.zona="",this.kepala_sekolah=null,this.kepala_sekolah="",this.$http.post("/setting",{sekolah_id:this.user.sekolah_id,semester_id:this.user.semester.semester_id}).then((function(e){a.isBusy=!1;var o=e.data;a.periode=o.periode,a.form.semester_id=o.semester_id,a.form.tanggal_rapor=o.tanggal_rapor,a.form.tanggal_rapor_kelas_akhir=o.tanggal_rapor_kelas_akhir,a.form.zona=o.zona,a.form.kepala_sekolah=o.kepala_sekolah,a.form.rombel_4_tahun=o.rombel_4_tahun,a.data_guru=o.data_guru,a.data_rombel=o.data_rombel,a.semester=o.semester,a.logo_sekolah=o.logo_sekolah}))},onFileChange:function(a){this.file=a.target.files[0]},handleSubmit:function(){var a=this;this.loading=!0;var e=new FormData;e.append("photo",this.form.file?this.form.file:""),e.append("semester_id",this.form.semester_id),e.append("sekolah_id",this.user.sekolah_id),e.append("semester_aktif",this.user.semester.semester_id),e.append("tanggal_rapor",this.form.tanggal_rapor?this.form.tanggal_rapor:""),e.append("tanggal_rapor_kelas_akhir",this.form.tanggal_rapor_kelas_akhir?this.form.tanggal_rapor_kelas_akhir:""),e.append("zona",this.form.zona?this.form.zona:""),e.append("kepala_sekolah",this.form.kepala_sekolah?this.form.kepala_sekolah:""),e.append("rombel_4_tahun",JSON.stringify(this.form.rombel_4_tahun)),this.$http.post("/setting/update",e).then((function(e){a.loading=!1;var o=e.data;a.state.tanggal_rapor=null,a.state.tanggal_rapor_kelas_akhir=null,a.state.zona=null,a.state.file=null,o.errors?(a.state.tanggal_rapor=!o.errors.tanggal_rapor&&null,a.state.zona=!o.errors.zona&&null,a.state.file=!o.errors.photo&&null,a.feedback.tanggal_rapor=o.errors.tanggal_rapor?o.errors.tanggal_rapor.join(", "):"",a.feedback.zona=o.errors.zona?o.errors.zona.join(", "):"",a.feedback.file=o.errors.photo?o.errors.photo.join(", "):""):a.$swal({icon:o.icon,title:o.title,html:o.text,customClass:{confirmButton:"btn btn-success"}}).then((function(e){a.loadPostData()}))})).catch((function(e){console.log(e),a.fileState=!1,a.feedback_file="Isian salah. Silahkan periksa kembali!!!"}))},onContext:function(a){this.formatted=a.selectedFormatted}}},b=(o("mKs2"),o("KHd+")),v=Object(b.a)(w,(function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("b-card",{attrs:{"no-body":""}},[o("b-card-body",[a.isBusy?o("div",{staticClass:"text-center text-danger my-2"},[o("b-spinner",{staticClass:"align-middle"}),a._v(" "),o("strong",[a._v("Loading...")])],1):o("div",[o("b-overlay",{attrs:{show:a.loading,rounded:"",opacity:"0.6",size:"lg","spinner-variant":"danger"}},[o("b-form",{on:{submit:function(e){return e.preventDefault(),a.handleSubmit(e)}}},[o("b-row",[o("b-col",{attrs:{cols:"7"}},[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-group",{attrs:{label:"Periode Aktif","label-for":"periode-aktif","invalid-feedback":a.feedback.semester_id,state:a.state.semester_id}},[o("v-select",{attrs:{id:"periode-aktif",options:a.semester,reduce:function(a){return a.semester_id},label:"nama",placeholder:"== Pilih Periode Aktif ==",clearable:!1},scopedSlots:a._u([{key:"no-options",fn:function(e){e.search,e.searching,e.loading;return[a._v("\n                        Tidak ada data untuk ditampilkan\n                      ")]}}]),model:{value:a.form.semester_id,callback:function(e){a.$set(a.form,"semester_id",e)},expression:"form.semester_id"}})],1),a._v(" "),o("b-form-group",{attrs:{label:"Tanggal Rapor Semester","label-for":"tanggal_rapor","invalid-feedback":a.feedback.tanggal_rapor,state:a.state.tanggal_rapor}},[o("b-form-datepicker",{attrs:{"show-decade-nav":"","button-variant":"outline-secondary",left:"",locale:"id","aria-controls":"tanggal_rapor",placeholder:"== Pilih Tanggal Rapor Semester =="},on:{context:a.onContext},model:{value:a.form.tanggal_rapor,callback:function(e){a.$set(a.form,"tanggal_rapor",e)},expression:"form.tanggal_rapor"}})],1),a._v(" "),"2"==a.periode?o("b-form-group",{attrs:{label:"Tanggal Rapor Kelas Akhir","label-for":"tanggal_rapor_kelas_akhir"}},[o("b-form-datepicker",{attrs:{"show-decade-nav":"","button-variant":"outline-secondary",left:"",locale:"id","aria-controls":"tanggal_rapor",placeholder:"== Pilih Tanggal Rapor Kelas Akhir =="},on:{context:a.onContext},model:{value:a.form.tanggal_rapor_kelas_akhir,callback:function(e){a.$set(a.form,"tanggal_rapor_kelas_akhir",e)},expression:"form.tanggal_rapor_kelas_akhir"}})],1):a._e(),a._v(" "),o("b-form-group",{attrs:{label:"Zona Waktu","label-for":"zona-waktu","invalid-feedback":a.feedback.zona,state:a.state.zona}},[o("v-select",{attrs:{id:"zona-waktu",options:a.data_zona,reduce:function(a){return a.value},label:"text",placeholder:"== Pilih Zona Waktu ==",clearable:!1,searchable:!1},scopedSlots:a._u([{key:"no-options",fn:function(e){e.search,e.searching,e.loading;return[a._v("\n                        Tidak ada data untuk ditampilkan\n                      ")]}}]),model:{value:a.form.zona,callback:function(e){a.$set(a.form,"zona",e)},expression:"form.zona"}})],1),a._v(" "),o("b-form-group",{attrs:{label:"Kepala Sekolah","label-for":"kepala-sekolah"}},[o("v-select",{attrs:{id:"kepala-sekolah",options:a.data_guru,reduce:function(a){return a.guru_id},label:"nama_lengkap",placeholder:"== Pilih Kepala Sekolah ==",clearable:!1},scopedSlots:a._u([{key:"no-options",fn:function(e){e.search,e.searching,e.loading;return[a._v("\n                        Tidak ada data untuk ditampilkan\n                      ")]}}]),model:{value:a.form.kepala_sekolah,callback:function(e){a.$set(a.form,"kepala_sekolah",e)},expression:"form.kepala_sekolah"}})],1),a._v(" "),o("b-form-group",{attrs:{label:"Rombongan Belajar 4 Tahun","label-for":"rombel-4-tahun"}},[o("v-select",{attrs:{multiple:"",reduce:function(a){return a.rombongan_belajar_id},label:"nama",options:a.data_rombel,placeholder:"== Pilih Rombongan Belajar 4 Tahun =="},scopedSlots:a._u([{key:"no-options",fn:function(e){e.search,e.searching,e.loading;return[a._v("\n                        Tidak ada data untuk ditampilkan\n                      ")]}}]),model:{value:a.form.rombel_4_tahun,callback:function(e){a.$set(a.form,"rombel_4_tahun",e)},expression:"form.rombel_4_tahun"}})],1)],1)],1)],1),a._v(" "),o("b-col",{attrs:{cols:"5"}},[o("b-row",[o("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[o("p",[a._v("Logo Sekolah")]),a._v(" "),a.logo_sekolah?o("b-img",{staticClass:"mb-1",attrs:{thumbnail:"",fluid:"",src:"/storage/images/"+a.logo_sekolah,alt:"Logo Sekolah"}}):a._e(),a._v(" "),o("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",state:a.state.file},on:{change:a.onFileChange},model:{value:a.form.file,callback:function(e){a.$set(a.form,"file",e)},expression:"form.file"}}),a._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:a.feedback.file,expression:"feedback.file"}],staticClass:"text-danger"},[a._v(a._s(a.feedback.file))])],1)],1)],1)],1),a._v(" "),o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("b-button",{attrs:{type:"submit",variant:"primary"}},[a._v("Simpan")])],1)],1)],1)],1)],1)])],1)}),[],!1,null,null,null);e.default=v.exports},dy1C:function(a,e,o){var r=o("tP4+");"string"==typeof r&&(r=[[a.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(r,n);r.locals&&(a.exports=r.locals)},mKs2:function(a,e,o){"use strict";o("dy1C")},"tP4+":function(a,e,o){var r=o("JPst"),n=o("nm7J");(e=r(!1)).i(n),e.push([a.i,"[dir] .swal2-container .swal2-popup {\n  border-radius: 0.428rem;\n  padding-bottom: 1.5rem;\n}\n.swal2-container .swal2-popup .swal2-close:focus {\n  outline: none;\n}\n[dir] .swal2-container .swal2-popup .swal2-close:focus {\n  box-shadow: none;\n}\n.swal2-container .swal2-popup .swal2-content {\n  color: #6e6b7b;\n}\n.swal2-container .swal2-popup .swal2-title {\n  font-size: 1.35rem;\n  font-weight: inherit;\n  color: #5e5873;\n}\n[dir] .swal2-container .swal2-popup button.swal2-confirm:focus {\n  box-shadow: none;\n}\n.swal2-container .swal2-popup input.swal2-input {\n  height: 2.714rem;\n  font-size: 0.9rem;\n  color: #6e6b7b;\n  line-height: 1.45;\n}\n[dir] .swal2-container .swal2-popup input.swal2-input {\n  padding: 0.438rem 1rem;\n  border-color: #d8d6de;\n  border-radius: 0.357rem;\n}\n[dir] .swal2-container .swal2-popup input.swal2-input:focus {\n  border-color: #7367f0 !important;\n  box-shadow: 0 3px 10px 0 rgba(34, 41, 47, 0.1);\n}\n.swal2-container .swal2-popup .swal2-select {\n  width: 100%;\n}\n[dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step {\n  background-color: #7367f0;\n}\n[dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step ~ .swal2-progress-step-line, [dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step ~ .swal2-progress-step {\n  background-color: #b3adf7;\n}\n[dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step-line {\n  background-color: #7367f0;\n}\n.swal2-container .swal2-popup pre {\n  min-height: 1.35rem;\n}\n[dir] .swal2-container .swal2-popup pre {\n  margin-top: 0.5rem;\n}\n.swal2-container .swal2-popup .swal2-footer {\n  color: #6e6b7b;\n}\n[dir] .swal2-container .swal2-popup .swal2-footer {\n  border-color: #ebe9f1;\n}\n.dark-layout .swal2-container .swal2-popup .swal2-title {\n  color: #d0d2d6;\n}\n[dir] .dark-layout .swal2-container .swal2-modal {\n  background-color: #283046;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-header .swal2-title {\n  color: #d0d2d6;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-header .swal2-icon-text {\n  color: inherit;\n}\n[dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-circular-line-left, [dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-circular-line-right, [dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-fix, [dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-animate-success-icon {\n  background-color: #283046 !important;\n}\n.dark-layout .swal2-container .swal2-modal input.swal2-input {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-modal input.swal2-input {\n  border-color: #3b4253;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-content, .dark-layout .swal2-container .swal2-modal .swal2-html-container {\n  color: #b4b7bd;\n}\n.dark-layout .swal2-container .swal2-modal pre, .dark-layout .swal2-container .swal2-modal code {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-modal .swal2-input {\n  background-color: #283046;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-footer {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-modal .swal2-footer {\n  border-color: #3b4253;\n}\n.dark-layout .swal2-container .swal2-validation-message {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-validation-message {\n  background-color: #161d31;\n}\nhtml[dir=rtl] .swal2-rtl .swal2-close {\n  left: 0;\n  right: auto;\n}",""]),a.exports=e}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{EPzJ:function(a,s,n){"use strict";n.r(s);var t=n("IF94"),o=n("YZfj"),e=n("AeMN"),r=n("Hrou"),i=n("okd0"),l=n("C9gC"),d=n("Ki4g"),c=n("CAmi"),p=n("bPaI"),u=n("6Ytq"),w=n("GUe+"),b=n("JhbM"),h=n("X9p1"),m={components:{BCard:t.a,BCardBody:o.a,BSpinner:e.a,BTableSimple:r.a,BTbody:i.a,BThead:l.a,BTr:d.a,BTd:c.a,BTh:p.a,BBadge:u.a,BButton:w.a,VBTooltip:b.a,BAlert:h.a},directives:{"b-tooltip":b.a},data:function(){return{loading:!1,isBusy:!0,show:!1,jam_sinkron:!1,syncText:"",dapodik:[]}},created:function(){this.loadPostData()},methods:{loadPostData:function(){var a=this;this.isBusy=!0,this.$http.post("/sinkronisasi",{sekolah_id:this.user.sekolah_id,user_id:this.user.user_id,semester_id:this.semester_id}).then((function(s){a.isBusy=!1;var n=s.data;a.jam_sinkron=n.jam_sinkron,a.dapodik=n.data_sinkron,a.show=!1,a.syncText="",console.log(n)}))},syncSatuan:function(a,s){var n,t=this;a&&s?(this.show=!0,this.syncText="Menyiapkan proses sinkronisasi",this.loading=!0,console.log(a),console.log(s),n=setInterval(this.myTimer,500),this.$http.post("/sinkronisasi/dapodik",{email:this.user.email,satuan:s,tujuan:a,sekolah_id:this.user.sekolah_id,user_id:this.user.user_id,semester_id:this.semester_id}).then((function(a){t.loading=!1,t.show=!1,console.log(n),console.log("selesai"),clearInterval(n),t.syncText="Proses sinkronisasi selesai",t.$swal({icon:"success",title:"Berhasil",text:"Sinkronisasi Dapodik Berhasil",customClass:{confirmButton:"btn btn-success"}}).then((function(a){t.loadPostData()}))}))):console.log("ga ketemu")},myTimer:function(){var a=this;this.$http.get("/sinkronisasi/hitung/"+this.user.sekolah_id).then((function(s){a.show=!0;var n=s.data;n.output&&(n.output.jumlah?1===n.output.jumlah&&1===n.output.inserted?a.syncText="Proses sinkronisasi selesai":a.syncText=n.output.table+" ("+n.output.inserted+"/"+n.output.jumlah+")":a.syncText=n.output.table)}))}}},v=(n("fa1v"),n("KHd+")),k=Object(v.a)(m,(function(){var a=this,s=a.$createElement,n=a._self._c||s;return n("b-card",{attrs:{"no-body":""}},[n("b-card-body",[a.isBusy?n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"}),a._v(" "),n("strong",[a._v("Loading...")])],1):n("div",[a.jam_sinkron?n("b-alert",{attrs:{show:"",variant:"danger"}},[n("div",{staticClass:"alert-body text-center"},[n("h2",[a._v("Penyesuaian Waktu Layanan Sinkronisasi Dapodik")]),a._v(" "),n("p",[a._v("Dikarenakan adanya proses rutin sinkronisasi data Dapodik antara Server PUSDATIN dan Server Direktorat SMK, "),n("br"),a._v("maka layanan sinkronisasi hanya dapat diakses antara pukul "),n("span",{staticClass:"text-danger"},[n("b",[a._v("03.00 s/d 24.00 (WIB)")])])])])]):a._e(),a._v(" "),n("b-table-simple",{attrs:{responsive:""}},[n("b-thead",{directives:[{name:"show",rawName:"v-show",value:a.show,expression:"show"}],attrs:{"head-variant":"dark"}},[n("b-tr",[n("b-th",{staticClass:"text-center"},[a._v(a._s(a.syncText))])],1)],1)],1),a._v(" "),a.jam_sinkron?a._e():n("b-table-simple",{attrs:{bordered:"",responsive:""}},[n("b-thead",[n("b-tr",[n("b-th",{staticClass:"text-center"},[a._v("Data")]),a._v(" "),n("b-th",{staticClass:"text-center"},[a._v("Jml Data Dapodik")]),a._v(" "),n("b-th",{staticClass:"text-center"},[a._v("Jml Data e-Rapor")]),a._v(" "),n("b-th",{staticClass:"text-center"},[a._v("Jml Data Tersinkronisasi")]),a._v(" "),n("b-th",{staticClass:"text-center"},[a._v("Status")]),a._v(" "),n("b-th",{staticClass:"text-center"},[a._v("Aksi")])],1)],1),a._v(" "),n("b-tbody",[a._l(a.dapodik,(function(s,t){return[n("b-tr",[n("b-td",[a._v("\n                "+a._s(s.nama)+"\n                "),s.icon?n("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.html",value:s.html,expression:"item.html",modifiers:{hover:!0,html:!0}}],attrs:{icon:"fa-solid fa-circle-question"}}):a._e()],1),a._v(" "),n("b-td",{staticClass:"text-center"},[a._v(a._s(s.dapodik))]),a._v(" "),n("b-td",{staticClass:"text-center"},[a._v(a._s(s.erapor))]),a._v(" "),n("b-td",{staticClass:"text-center"},[a._v(a._s(s.sinkron))]),a._v(" "),n("b-td",{staticClass:"text-center"},[s.sinkron?[s.dapodik>s.erapor?n("b-badge",{attrs:{variant:"warning"}},[a._v("Kurang")]):n("b-badge",{attrs:{variant:"success"}},[a._v("Lengkap")])]:[n("b-badge",{attrs:{variant:"danger"}},[a._v("Belum")])]],2),a._v(" "),n("b-td",{staticClass:"text-center"},[s.dapodik?[a.loading?n("b-button",{attrs:{variant:"success",block:"",size:"sm",disabled:""}},[n("b-spinner",{attrs:{small:""}}),a._v(" "),n("span",{staticClass:"sr-only"},[a._v("Loading...")])],1):n("b-button",{attrs:{block:"",size:"sm",variant:"success"},on:{click:function(n){return a.syncSatuan(s.server,s.aksi)}}},[a._v("Sinkronisasi")])]:[a._v("\n                  -\n                ")]],2)],1)]}))],2)],1)],1)])],1)}),[],!1,null,null,null);s.default=k.exports},fa1v:function(a,s,n){"use strict";n("gZDt")},gZDt:function(a,s,n){var t=n("u416");"string"==typeof t&&(t=[[a.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(t,o);t.locals&&(a.exports=t.locals)},u416:function(a,s,n){var t=n("JPst"),o=n("nm7J");(s=t(!1)).i(o),s.push([a.i,"[dir] .swal2-container .swal2-popup {\n  border-radius: 0.428rem;\n  padding-bottom: 1.5rem;\n}\n.swal2-container .swal2-popup .swal2-close:focus {\n  outline: none;\n}\n[dir] .swal2-container .swal2-popup .swal2-close:focus {\n  box-shadow: none;\n}\n.swal2-container .swal2-popup .swal2-content {\n  color: #6e6b7b;\n}\n.swal2-container .swal2-popup .swal2-title {\n  font-size: 1.35rem;\n  font-weight: inherit;\n  color: #5e5873;\n}\n[dir] .swal2-container .swal2-popup button.swal2-confirm:focus {\n  box-shadow: none;\n}\n.swal2-container .swal2-popup input.swal2-input {\n  height: 2.714rem;\n  font-size: 0.9rem;\n  color: #6e6b7b;\n  line-height: 1.45;\n}\n[dir] .swal2-container .swal2-popup input.swal2-input {\n  padding: 0.438rem 1rem;\n  border-color: #d8d6de;\n  border-radius: 0.357rem;\n}\n[dir] .swal2-container .swal2-popup input.swal2-input:focus {\n  border-color: #7367f0 !important;\n  box-shadow: 0 3px 10px 0 rgba(34, 41, 47, 0.1);\n}\n.swal2-container .swal2-popup .swal2-select {\n  width: 100%;\n}\n[dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step {\n  background-color: #7367f0;\n}\n[dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step ~ .swal2-progress-step-line, [dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step ~ .swal2-progress-step {\n  background-color: #b3adf7;\n}\n[dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step-line {\n  background-color: #7367f0;\n}\n.swal2-container .swal2-popup pre {\n  min-height: 1.35rem;\n}\n[dir] .swal2-container .swal2-popup pre {\n  margin-top: 0.5rem;\n}\n.swal2-container .swal2-popup .swal2-footer {\n  color: #6e6b7b;\n}\n[dir] .swal2-container .swal2-popup .swal2-footer {\n  border-color: #ebe9f1;\n}\n.dark-layout .swal2-container .swal2-popup .swal2-title {\n  color: #d0d2d6;\n}\n[dir] .dark-layout .swal2-container .swal2-modal {\n  background-color: #283046;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-header .swal2-title {\n  color: #d0d2d6;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-header .swal2-icon-text {\n  color: inherit;\n}\n[dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-circular-line-left, [dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-circular-line-right, [dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-fix, [dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-animate-success-icon {\n  background-color: #283046 !important;\n}\n.dark-layout .swal2-container .swal2-modal input.swal2-input {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-modal input.swal2-input {\n  border-color: #3b4253;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-content, .dark-layout .swal2-container .swal2-modal .swal2-html-container {\n  color: #b4b7bd;\n}\n.dark-layout .swal2-container .swal2-modal pre, .dark-layout .swal2-container .swal2-modal code {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-modal .swal2-input {\n  background-color: #283046;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-footer {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-modal .swal2-footer {\n  border-color: #3b4253;\n}\n.dark-layout .swal2-container .swal2-validation-message {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-validation-message {\n  background-color: #161d31;\n}\nhtml[dir=rtl] .swal2-rtl .swal2-close {\n  left: 0;\n  right: auto;\n}",""]),a.exports=s}}]);